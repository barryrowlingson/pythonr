<!DOCTYPE html>
<html>
<head>
<style type="text/css">
.knitr .inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
	font-weight: bold;
	color: #FF0000;
}
.warning {
	font-weight: bold;
}
.message {
	font-style: italic;
}
.source, .output, .warning, .error, .message {
	padding: 0 1em;
  border:solid 1px #F7F7F7;
}
.source {
  background-color: #f5f5f5;
}
.rimage .left {
  text-align: left;
}
.rimage .right {
  text-align: right;
}
.rimage .center {
  text-align: center;
}
.hl.num {
  color: #AF0F91;
}
.hl.str {
  color: #317ECC;
}
.hl.com {
  color: #AD95AF;
  font-style: italic;
}
.hl.opt {
  color: #000000;
}
.hl.std {
  color: #585858;
}
.hl.kwa {
  color: #295F94;
  font-weight: bold;
}
.hl.kwb {
  color: #B05A65;
}
.hl.kwc {
  color: #55aa55;
}
.hl.kwd {
  color: #BC5A65;
  font-weight: bold;
}
</style>
<meta charset="utf-8"> 
<script src="lib/jquery-1.11.0/jquery.min.js"></script>
<link href="lib/jquery-ui-1.10.4/css/smoothness/jquery-ui-1.10.4.custom.min.css" rel="stylesheet" />
<script src="lib/jquery-ui-1.10.4/js/jquery-ui-1.10.4.custom.min.js"></script>
<script src="lib/d3-3.5.2/d3.min.js"></script>
<script src="lib/vega-1.4.3/vega.min.js"></script>
<script src="lib/lodash-2.2.1/lodash.min.js"></script>
<script>var lodash = _.noConflict();</script>
<link href="lib/ggvis-0.4.0.9000/css/ggvis.css" rel="stylesheet" />
<script src="lib/ggvis-0.4.0.9000/js/ggvis.js"></script>
<title>Python vs R</title>
<link rel="stylesheet" type="text/css" href="presentation.css" />
<link rel="stylesheet" href="print.css" type="text/css" media="print" />
<script type="text/javascript" src="lib/shCore.js"></script>
<script type="text/javascript" src="lib/shBrushPython.js"></script>
<link href="shCore.css" rel="stylesheet" type="text/css" />
<link href="shThemeDefault.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="counter"></div>
<div id="index"><ul></ul></div>


<style>
span.language { font-weight: bold}
</style>

<div class="slide" id="title">
<h1>R vs Python</h1>
<h2>Barry Rowlingson</h2>
<h2><code>@geospacedman</code></h2>
<h3>Lancaster University</h3>
<p style="font-size: 40%">[next slide=right arrow, prev slide=left arrow, or click slide counter top-right for index]</p>
</div>

<div class="slide" id="first">
<h1>Fight!</h1>
<div class="left">
<img class="fit" src="images/Rlogo.png" />
</div>
<div class="right">
<img class="fit" src="images/pythonlogo.png" />
</div>
<h1>To the death!</h1>
</div>

<div class="slide">
<h1>Begin Warriors!</h1>
<img class="mainpic" src="images/fight1.jpg" />
</div>

<div class="slide">
<h1>Begin Warriors!</h1>
<img class="mainpic"  src="images/fight2.jpg" />
</div>

<div class="slide">
<h1>R</h1>
<p>
<ul>
<li>Evolved from "New S" (1988)</li>
<li>"New S" Evolved from "Old S" (1976)</li>
<li>Inspiration from LISP (1958)</li>
</ul>
</p>
</div>

<div class="slide">
<h1>A little LISP</h1>
<pre class="list">
> (+ 1 2)
3

> (+ 6 (* 3 (- 8 12)))
-6
</pre>
<p>R can be written a bit like this too!</p>
<pre class="list">
> `+`(1,2)
[1] 3
> `+`(6, `*`(3, `-`( 8, 12)))
[1] -6
</pre>
<p>but not recommended, because R has "infix" notation:</p>
<pre class="list">
> (6 +  (3 * (8 - 12)))
[1] -6
</pre>
<p>but sometimes infix isn't clear:</p>
<pre class="list">
> 6 + 3 * 8 - 12
[1] 18
</pre>
</div>

<div class="slide">
<h1>So we all know R, right?</h1>
<div class="chunk" id="unnamed-chunk-1"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">&gt; </span><span class="hl std">x</span> <span class="hl kwb">=</span> <span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">10</span>
<span class="hl std">&gt; </span><span class="hl std">y</span> <span class="hl kwb">=</span> <span class="hl num">2</span> <span class="hl opt">*</span> <span class="hl std">x</span> <span class="hl opt">+</span> <span class="hl kwd">rnorm</span><span class="hl std">(</span><span class="hl num">10</span><span class="hl std">,</span> <span class="hl num">0</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">)</span>
<span class="hl std">&gt; </span><span class="hl std">y</span>
</pre></div>
<div class="output"><pre class="knitr r"> [1]  3.167902  6.466330  8.406969  7.324141  7.157399 13.324578 15.825990
 [8] 16.544754 17.977456 20.240094
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">&gt; </span><span class="hl std">m</span> <span class="hl kwb">=</span> <span class="hl kwd">lm</span><span class="hl std">(y</span><span class="hl opt">~</span><span class="hl std">x)</span>
<span class="hl std">&gt; </span><span class="hl std">m</span>
</pre></div>
<div class="output"><pre class="knitr r">
Call:
lm(formula = y ~ x)

Coefficients:
(Intercept)            x  
      1.424        1.858  
</pre></div>
</div></div>
</div>

<div class="slide">
<h1>Why Do People Fall In Love With R?</h1>
<h1 class="sub">Not an exhaustive list</h1>
<h2>Interactivity</h2>
<ul>
<li>Its a REPL (Read-evaluate-print loop)</li>
<li>Infix notation</li>
<li>Functional notation</li>
</ul>


<h2>Vectorisation</h2>
<div class="chunk" id="unnamed-chunk-2"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">&gt; </span><span class="hl std">y</span> <span class="hl opt">+</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">10</span><span class="hl std">,</span><span class="hl num">100</span><span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r"> [1]  12.38930 104.82211  16.80232 107.77471  19.05247 112.44153  24.60866
 [8] 116.18158  27.99249 120.08003
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">&gt; </span><span class="hl kwd">sqrt</span><span class="hl std">(y)</span>
</pre></div>
<div class="output"><pre class="knitr r"> [1] 1.545736 2.195930 2.608126 2.788317 3.008732 3.527255 3.822128
 [8] 4.022634 4.241755 4.481075
</pre></div>
</div></div>


<h2>Graphics</h2>
<div class="chunk" id="unnamed-chunk-3"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">&gt; </span><span class="hl kwd">plot</span><span class="hl std">(x,y)</span>
<span class="hl std">&gt; </span><span class="hl kwd">abline</span><span class="hl std">(m)</span>
</pre></div>
</div><div class="rimage default"><img src="figure/unnamed-chunk-3-1.png" title="plot of chunk unnamed-chunk-3" alt="plot of chunk unnamed-chunk-3" class="plot" /></div></div>

<h2>Data Structures</h2>
<ul>
<li>Vectors</li>
<li>Matrices</li>
<li>Data Frames</li>
</ul>

<h2>CRAN</h2>
<ul>
<li>Now over 7000 packages</li>
<li>Easy Installation</li>
<li>Quality Control (to an extent)</li>
</ul>

</div>

<div class="slide">
<h1>Why Do Beginners Struggle With R?</h1>
<h1 class="sub">Not an exhaustive list</h1>

<h2>Inconsistencies</h2>
<div class="chunk" id="unnamed-chunk-4"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">&gt; </span><span class="hl kwd">args</span><span class="hl std">(read.table)</span>
</pre></div>
<div class="output"><pre class="knitr r">function (file, header = FALSE, sep = &quot;&quot;, quote = &quot;\&quot;'&quot;, dec = &quot;.&quot;, 
    numerals = c(&quot;allow.loss&quot;, &quot;warn.loss&quot;, &quot;no.loss&quot;), row.names, 
    col.names, as.is = !stringsAsFactors, na.strings = &quot;NA&quot;, 
    colClasses = NA, nrows = -1, skip = 0, check.names = TRUE, 
    fill = !blank.lines.skip, strip.white = FALSE, blank.lines.skip = TRUE, 
    comment.char = &quot;#&quot;, allowEscapes = FALSE, flush = FALSE, 
    stringsAsFactors = default.stringsAsFactors(), fileEncoding = &quot;&quot;, 
    encoding = &quot;unknown&quot;, text, skipNul = FALSE) 
NULL
</pre></div>
</div></div>

<h2>Quirks</h2>
<div class="chunk" id="unnamed-chunk-5"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">&gt; </span><span class="hl std">z</span><span class="hl kwb">=</span><span class="hl kwd">matrix</span><span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">9</span><span class="hl std">,</span><span class="hl num">3</span><span class="hl std">,</span><span class="hl num">3</span><span class="hl std">)</span>
<span class="hl std">&gt; </span><span class="hl std">z[,</span><span class="hl num">1</span><span class="hl std">]</span>
</pre></div>
<div class="output"><pre class="knitr r">[1] 1 2 3
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">&gt; </span><span class="hl std">z[,</span><span class="hl num">1</span><span class="hl std">,</span><span class="hl kwc">drop</span><span class="hl std">=</span><span class="hl num">FALSE</span><span class="hl std">]</span>
</pre></div>
<div class="output"><pre class="knitr r">     [,1]
[1,]    1
[2,]    2
[3,]    3
</pre></div>
</div></div>

<div class="chunk" id="unnamed-chunk-6"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">&gt; </span><span class="hl std">ages</span>  <span class="hl kwb">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">16</span><span class="hl std">,</span><span class="hl num">17</span><span class="hl std">,</span><span class="hl num">18</span><span class="hl std">,</span><span class="hl num">19</span><span class="hl std">)</span>
<span class="hl std">&gt; </span><span class="hl kwd">sample</span><span class="hl std">(ages)</span>
</pre></div>
<div class="output"><pre class="knitr r">[1] 17 18 19 16
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">&gt; </span><span class="hl kwd">sample</span><span class="hl std">(ages[</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">3</span><span class="hl std">])</span>
</pre></div>
<div class="output"><pre class="knitr r">[1] 17 16 18
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">&gt; </span><span class="hl kwd">sample</span><span class="hl std">(ages[</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">2</span><span class="hl std">])</span>
</pre></div>
<div class="output"><pre class="knitr r">[1] 17 16
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">&gt; </span><span class="hl kwd">sample</span><span class="hl std">(ages[</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">1</span><span class="hl std">])</span>
</pre></div>
<div class="output"><pre class="knitr r"> [1]  7 16  4  9  8  2 15 12  3  1 14  5 11 10  6 13
</pre></div>
</div></div>

<p>Definitive reference in 153 pages is:</p>
<div class="cpic">
<img class="mainpic" src="images/rinferno.png" />
</div>
<p>Free PDF from <code>http://www.burns-stat.com/documents/books/the-r-inferno/</code></p>

<h2>Mailing Lists</h2>
<p style="font-size: 500%; font-weight: bold; color: red">
Have you read the posting guide?!!? &$%^&!%"!!
</p>

<h2>Lack of Speed</h2>
<p>
Why is my code so slooooowwww!!!!
</p>


</div>

<div class="slide">
<h1>Python</h1>
<h2>Interactive</h2>
<p>Its another REPL</p>
<script type="syntaxhighlighter" class="brush: python"><![CDATA[
>>> 1 + 2 * 3
7
>>> a = 1 + 2 * 3
>>> a
7
]]></script>
<h2>Modular</h2>
<p>Functionality is more structured into modules:</p>
<script type="syntaxhighlighter" class="brush: python"><![CDATA[
>>> sqrt(2)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
NameError: name 'sqrt' is not defined
>>> import math
>>> math.sqrt(2)
1.4142135623730951
>>> from math import sqrt
>>> sqrt(2)
1.4142135623730951
]]></script>

<h2>Vectors</h2>
<p>There are "vectors" (called lists), but no implicit vectorisation:</p>
<script type="syntaxhighlighter" class="brush: python"><![CDATA[
>>> x = [ 1, 2, 4, 8, 16 ]
>>> x
[1, 2, 4, 8, 16]
>>> math.sqrt(x)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: a float is required
]]></script>

<p>But there are syntactic helpers that are "pythonic" - this is a "list comprehension":</p>
<script type="syntaxhighlighter" class="brush: python"><![CDATA[
>>> [math.sqrt(z) for z in x]
[1.0, 1.4142135623730951, 2.0, 2.8284271247461903, 4.0]
]]></script>
<p>These can be quite complex:</p>
<script type="syntaxhighlighter" class="brush: python"><![CDATA[
>>> [math.sqrt(z) for z in x if z > 3]
[2.0, 2.8284271247461903, 4.0]
]]></script>

<h2>Functions</h2>
<p>Just like R, you can define functions and call them:</p>
<script type="syntaxhighlighter" class="brush: python"><![CDATA[
>>> def foo(x):
...   return math.sqrt(x) * math.log(x)
... 
>>> foo(9)
6.591673732008658
]]></script>

<h2>And all the other stuff...</h2>
<ul>
<li>Loops</li>
<li>If-then-else</li>
<li>Classes and Objects</li>
</ul>

</div>

<div class="slide">
<h1>Why Do People Fall In Love With Python?</h1>
<h5>Obligatory xkcd.com cartoon</h5>
<img class="mainpic" src="images/pythonflying.png" />
<h2>Clean Syntax</h2>
<p>Put this in a file called <code>sequence.py</code>:</p>
<script type="syntaxhighlighter" class="brush: python"><![CDATA[
def fib(n):
  a, b = 0, 1
  while a < n:
    print a,
    a, b = b, a+b
  print
]]></script>

<h2>Simple Modularity</h2>

<p>Given <code>sequence.py</code> simply do:</p>
<script type="syntaxhighlighter" class="brush: python"><![CDATA[
>>> from sequence import fib
>>> fib(1000)
0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987
]]></script>

<h2>Easy Documentation</h2>
<script type="syntaxhighlighter" class="brush: python"><![CDATA[
def fib(n):
  """
  Compute the fibonacci series up to n
  """
  a, b = 0, 1
  while a < n:
    print a,
    a, b = b, a+b
  print
]]></script>

<p>Then the help is there:</p>

<script type="syntaxhighlighter" class="brush: python"><![CDATA[
>>> help(fib)
Help on function fib in module sequence:

fib(n)
    Compute the fibonacci series up to n
]]></script>

<h2>The Python Package Index</h2>
<ul>
<li>Over 60,000 Packages</li>
<li>Install with <code>pip install whatever</code></li>
</ul>

<h2>Intended To Be A General Purpose Language</h2>
<h3>Design Goals</h3>

<ul>
<li>an easy and intuitive language just as powerful as major competitors</li>
<li>open source, so anyone can contribute to its development</li>
<li>code that is as understandable as plain English</li>
<li>suitability for everyday tasks, allowing for short development times</li>
</ul>

<p>In addition the design process via proposals (PEPs) is open and
discussion is welcome.</p>

<h2>One Way To Do It</h2>
<p>
"There should be one-- and preferably only one --obvious way to do it."
</p>
<p>For example, Python has one Object-oriented design system. R has about 6</p>
<p>Define a class for pets and dogs:</p>
<script  type="syntaxhighlighter" class="brush: python"><![CDATA[
class Pet:
   def __init__(self, name):
      self.name = name
   def call_me(self):
      print "Say 'Here "+self.name+"!'"
   def noise(self):
      raise StandardError,"I am not a real pet"

class Dog(Pet):
   def __init__(self, name):
      Pet.__init__(self,name)
   def noise(self):
      print "Woof!"
]]></script>
<p>Now create a dog and call some methods:</p>
<script  type="syntaxhighlighter" class="brush: python"><![CDATA[
>>> mydog = Dog("Archer")
>>> mydog.name  # R: mydog$name
'Archer'
>>> mydog.call_me() # R: pet::call_me(mydog)
Say 'Here Archer!'
>>> mydog.noise()  # R: noise(mydog) if pet loaded
Woof!   
]]></script>

<p>Easily create a list of dogs:</p>
<script  type="syntaxhighlighter" class="brush: python"><![CDATA[
>>> mydogs = [Dog(name) for name in ["Archer","Boo","Charlie"]]
>>> mydogs[1].name
'Boo'
]]></script>
<p>Call all my dogs:</p>
<script  type="syntaxhighlighter" class="brush: python"><![CDATA[
>>> [dog.call_me() for dog in mydogs]
Say 'Here Archer!'
Say 'Here Boo!'
Say 'Here Charlie!'
]]></script>

<p>Cat class follows:</p>

<script  type="syntaxhighlighter" class="brush: python"><![CDATA[
class Cat(Pet):
   def __init__(self,name):
      Pet.__init__(self,name)
   def call_me(self):
      print "Puss puss puss"
   def noise(self):
      print "Meow"

]]></script>
<h2>Modularity</h2>
<p>Put the pet code in <code>pet.py</code> and then any other
code can:</p>
<script  type="syntaxhighlighter" class="brush: python"><![CDATA[
>>> import pet
>>> mydog = pet.Dog("Fido")

]]></script>
</div>

<div class="slide">
<h1>Why Do Beginners Struggle With Python?</h1>
<h2>Significant Whitespace</h2>
<p>Some people shirk at spaces being important!</p>
<script type="syntaxhighlighter" class="brush: python"><![CDATA[
def fun(x):
   if x > 10:
      print "more than 10 values"
      for i in x:
         print x
   else:
      print "small"
   print "done"
fun(99)
]]></script>

<h2>Installation</h2>
<ul>
<li>Initial Installation</li>
<li>Package Installation</li>
</ul>

<h2>Discovery</h2>
<h3>Or "How Did You Know You Could Do That?"</h3>
<ul>
<li>Subliminality</li>
</ul>
</div>

<div class="slide">
<h1>Subliminality</h1>
<h2>Python is great because...</h2>
<ul>
<li>GvR</li>
<li>PEP8</li>
<li>Code: write once, read many times</li>
<li>Readability Counts</li>
<li>Foundation</li>
<li>Community</li>
</ul>
</div>

<div class="slide">
<h1>Overcoming The Problems</h1>
<h2>Warning: controversy (and generalisations) ahead!</h2>
<ul>
<li>You have to live with R's annoyances. At least until R gets a ground-up compatibility breaking rewrite. Getting through them makes you a less annoyed programmer.</li>
<li>Python's annoyances are learning opportunities. Getting through them makes you a better programmer.</li>
</ul>
</div>

<div class="slide">
<h2>Leveraging Synergies</h2>
<ul>
<li>R package <code>rPython</code> - call python from R:
<pre>
python.call( "len", 1:3 )
a <- 1:4
b <- 5:8
python.exec( "def concat(a,b): return a+b" )
python.call( "concat", a, b)

python.assign( "a",  "hola hola" )
python.method.call( "a", "split", " " )
</pre>
</li>
<li>Python package <code>rpy2</code> - call R from python:
<script type="syntaxhighlighter" class="brush: python"><![CDATA[
>>> import rpy2.robjects as robjects
>>> pi = robjects.r['pi']
>>> pi[0]
3.14159265358979
]]></script>
<p>Simple principle components analysis and plot:</p>
<script type="syntaxhighlighter" class="brush: python"><![CDATA[
>>> import rpy2.robjects as robjects
>>> r = robjects.r
>>> m = r.matrix(r.rnorm(100), ncol=5)
>>> pca = r.princomp(m)
>>> r.plot(pca, main="Eigen values")
>>> r.biplot(pca, main="biplot")
]]></script>
<p>More complex example, calling <code>ggplot2</code>:</p>
<script type="syntaxhighlighter" class="brush: python"><![CDATA[
>>> import rpy2.robjects.lib.ggplot2 as ggplot2
>>> from rpy2.robjects.packages import importr, data
>>> base = importr('base')
>>> datasets = importr('datasets')
>>> mtcars = data(datasets).fetch('mtcars')['mtcars']

>>> pp = ggplot2.ggplot(mtcars) + \
     ggplot2.aes_string(x='wt', y='mpg', col='factor(cyl)') + \
     ggplot2.geom_point() + \
     ggplot2.geom_smooth(ggplot2.aes_string(group = 'cyl'),
                         method = 'lm')
>>> pp.plot()
]]></script>
</li>

</ul>
</div>

<div class="slide">
<h2>Horses For Courses</h2>
<p>I use <span class="language">R</span> for</p>
<ul>
<li>Statistical Analysis</li>
<li>Some Data Mashing</li>
<li>Graphics</li>
</ul>
<p>I use <span class="language">Python</span> for</p>
<ul>
<li>QGIS Programming</li>
<li>GUI Applications</li>
<li>Some Data Mashing</li>
<li>Web Server Programming</li>
</ul>
<p>I use <span class="language">JavaScript</span> for</p>
<ul>
<li>Web Client Programming</li>
</ul>
<p>I use <span class="language">C/C++</span> for</p>
<ul>
<li>Speed</li>
</ul>
<p>I don't use <span class="language">Perl</span> any more</p>
<p>I use <span class="language">Fortran</span> for</p>
<ul>
<li>Nostalgic Late Night Coding Reminding Me Of My Undergraduate Days...*sigh*</li>
</ul>
</div>

<div class="slide">
<h1>So which language should I learn?</h1>

<p><em>Depends on what you are doing</em>, but you 
are probably doing some of this:</p>
<ul>
<li>R for statistics - but Python catching up</li>
<li>R for statistical graphics - but Python catching up</li>
<li>R or Python for data mashing</li>
<li>Python for web server programming</li>
<li>C or C++ for speed</li>
<li>Python or shell script for glue</li>
<li>HTML/JS/CSS for web design</li>
<li>Other languages are increasingly marginal:
 <ul>
   <li>Perl</li>
   <li>Fortran</li>
   <li>Matlab</li>
   <li>Java</li>
   <li>MS Visual Anything</li>
 </ul>
</li>
<li>Keep an eye on Julia</li>
</ul>
</div>

<div class="slide">
<h1>So No More Fighting!</h1>
</div>



<!--script type="text/javascript" src="lib/jquery-2.1.3.min.js" ></script-->
<script type="text/javascript" src="presentation.js"></script>
<script type="text/javascript">
SyntaxHighlighter.defaults['gutter'] = false;
SyntaxHighlighter.defaults['toolbar'] = false;
SyntaxHighlighter.all()
</script>
</body>
</html>
